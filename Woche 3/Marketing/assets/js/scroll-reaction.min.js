/**
 * scroll-reaction 1.3.1 by Tim-Patrick Matthes
 * Performant, dependency free and fully customizable scroll effects
 * Learn more: https://github.com/tpmatthes/scroll-reaction
 * License: MIT
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ScrollReaction=e()}(this,function(){"use strict";function t(t,e,i,o){var n,r;return function(){var s=Date.now();o||n&&s<n+i?(clearTimeout(r),r=setTimeout(function(){n=s,t.call(e)},i)):(n=s,t.call(e))}}function e(e){var o=this,n=[],r={},s=0,l=null,a=[],c={};for(var u in i)c[u]=e&&u in e?e[u]:i[u];var f="auto"==c.smoothScroll&&"scrollBehavior"in document.documentElement.style;this.position=0,this.status=0,this.init=function(){this.refresh(),window.addEventListener("resize",t(this.update,this,200,!0)),window.addEventListener("orientationchange",t(this.update,this,200,!0)),window.addEventListener("scroll",t(this.update,this,c.throttleDelay,!1))},this.refresh=function(){var t=document.querySelectorAll("["+c.attribute+"]");if(t.length>0){n=[],r={};for(var e=t.length-1;e>=0;e--){var i=t[e].getAttribute("href"),o=i&&0==i.indexOf("#")?i.replace("#",""):"",a=o||t[e].getAttribute(c.attribute),u=a?document.getElementById(a):null;!1===c.smoothScroll||!o&&"#"!=i||t[e].addEventListener("click",h),u&&(r[a]={element:u,active:!1},n.push({element:t[e],emitterId:a}))}}c.offsetFrom?l=document.querySelector(c.offsetFrom):s=c.offset,this.update()},this.update=function(){var t=document.body.clientHeight-window.innerHeight,e=t-c.windowBottomOffset,i={id:null,position:-1};if(this.position=window.scrollY,this.status=Math.min(this.position/t*100,100),this.emit("update"),c.attributeCurrent){l&&(s=l.offsetHeight+c.offset);for(var o in r){var a=Math.max(r[o].element.getBoundingClientRect().top+this.position-s,0);(this.position>=a||this.position>=e)&&a>=i.position?(r[o].active=!0,i.id&&a!=i.position&&(r[i.id].active=!1),i.id=o,i.position=a):c.rewind&&(r[o].active=!1)}for(var u in n){var f=r[n[u].emitterId],h=n[u];f.active?h.element.setAttribute(c.attributeCurrent,""):h.element.removeAttribute(c.attributeCurrent)}}},this.scrollTo=function(t){var e,i=t?document.getElementById(t):null,o=0;i&&(l&&(s=l.offsetHeight+c.offset),o=i.getBoundingClientRect().top+this.position-s+1,i.focus()),window.history.replaceState&&(e=window.location.href.replace(window.location.hash,""),window.history.replaceState(null,null,t?"#"+t:e)),f||!0===c.smoothScroll?window.scrollTo({top:o,left:0,behavior:"smooth"}):window.scrollTo(0,o)};var h=function(t){var e=this.getAttribute("href").replace("#","");t.preventDefault(),o.emit("click"),o.scrollTo(e)};this.on=function(t,e){"function"==typeof e&&(a.push({name:t,callback:e}),"update"==t&&e.call(this))},this.emit=function(t){for(var e=0;e<a.length;e++)a[e].name===t&&a[e].callback.call(this)},this.init()}var i={attribute:"data-scroll-reaction",attributeCurrent:"data-scroll-active",offset:5,offsetFrom:"",rewind:!0,smoothScroll:"auto",throttleDelay:100,windowBottomOffset:20};return e});
